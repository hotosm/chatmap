const e=(e,t)=>{let a,i,n=t-1,r=t+1,d=e[t];for(;(e[n]||e[r])&&(!i||!a);){if(e[n]&&e[n].username===d.username&&!a){a={index:n,delta:Math.abs(e[t].time-e[n].time)}}if(e[r]&&e[r].username===d.username&&!i){i={index:r,delta:Math.abs(e[t].time-e[r].time)}}n--,r++}if(a&&i){if(a.delta===i.delta)return{...e[a.index],message:e[a.index].message+". "+e[i.index].message};if(a.delta<i.delta)return e[a.index];if(a.delta>i.delta)return e[i.index]}else{if(a)return e[a.index];if(i)return e[i.index]}return d},t=(e,t)=>i(e,t,1),a=(e,t)=>i(e,t,-1),i=(e,t,a)=>{let i,n=t+a,r=e[t];for(;e[n]&&!i;){if(e[n]&&e[n].username===r.username&&!i){i={index:n,delta:Math.abs(e[t].time-e[n].time)}}n+=a}return i?e[i.index]:r};export{t as a,a as b,e as g};
